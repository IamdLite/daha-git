{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { mockResources } from '../data/mockResources';\nexport const useFilters = () => {\n  _s();\n  const [filters, setFilters] = useState({\n    selectedSubjects: [],\n    selectedDifficulty: [],\n    selectedGrades: [],\n    searchQuery: '',\n    page: 1,\n    rowsPerPage: 5 // Configurable\n  });\n  const [filteredResources, setFilteredResources] = useState(mockResources);\n  const handleSubjectsChange = subjects => setFilters(prev => ({\n    ...prev,\n    selectedSubjects: subjects,\n    page: 1\n  }));\n  const handleDifficultyChange = difficulty => setFilters(prev => ({\n    ...prev,\n    selectedDifficulty: difficulty,\n    page: 1\n  }));\n  const handleGradesChange = grades => setFilters(prev => ({\n    ...prev,\n    selectedGrades: grades,\n    page: 1\n  }));\n  const handleSearchChange = query => setFilters(prev => ({\n    ...prev,\n    searchQuery: query,\n    page: 1\n  }));\n  const handleResetFilters = () => setFilters(prev => ({\n    ...prev,\n    selectedSubjects: [],\n    selectedDifficulty: [],\n    selectedGrades: [],\n    searchQuery: '',\n    page: 1\n  }));\n  const handlePageChange = page => setFilters(prev => ({\n    ...prev,\n    page\n  }));\n  useEffect(() => {\n    let result = [...mockResources];\n    if (filters.selectedSubjects.length > 0) {\n      result = result.filter(resource => resource.subjects.some(subject => filters.selectedSubjects.includes(subject)));\n    }\n    if (filters.selectedDifficulty.length > 0) {\n      result = result.filter(resource => resource.difficultyLevel && filters.selectedDifficulty.includes(resource.difficultyLevel));\n    }\n    if (filters.selectedGrades.length > 0) {\n      result = result.filter(resource => resource.grades.some(grade => filters.selectedGrades.includes(grade)));\n    }\n    if (filters.searchQuery) {\n      result = result.filter(resource => resource.title.toLowerCase().includes(filters.searchQuery.toLowerCase()));\n    }\n    setFilteredResources(result);\n  }, [filters.selectedSubjects, filters.selectedDifficulty, filters.selectedGrades, filters.searchQuery]);\n  return {\n    filters,\n    handlers: {\n      handleSubjectsChange,\n      handleDifficultyChange,\n      handleGradesChange,\n      handleSearchChange,\n      handleResetFilters,\n      handlePageChange\n    },\n    filteredResources\n  };\n};\n_s(useFilters, \"GlJOc1vE+Eq/T92ZWyFYX6nEzWc=\");","map":{"version":3,"names":["useState","useEffect","mockResources","useFilters","_s","filters","setFilters","selectedSubjects","selectedDifficulty","selectedGrades","searchQuery","page","rowsPerPage","filteredResources","setFilteredResources","handleSubjectsChange","subjects","prev","handleDifficultyChange","difficulty","handleGradesChange","grades","handleSearchChange","query","handleResetFilters","handlePageChange","result","length","filter","resource","some","subject","includes","difficultyLevel","grade","title","toLowerCase","handlers"],"sources":["/home/iamdlte/Desktop/daha-git/frontend/src/hooks/useFilters.ts"],"sourcesContent":["\nimport { useState, useEffect } from 'react';\nimport { Resource, Subject, Grade } from '../types';\nimport { mockResources } from '../data/mockResources';\n\nexport interface FilterState {\n  selectedSubjects: string[];\n  selectedDifficulty: string[];\n  selectedGrades: string[];\n  searchQuery: string;\n  page: number;\n  rowsPerPage: number;\n}\n\nexport interface FilterHandlers {\n  handleSubjectsChange: (subjects: string[]) => void;\n  handleDifficultyChange: (difficulty: string[]) => void;\n  handleGradesChange: (grades: string[]) => void;\n  handleSearchChange: (query: string) => void;\n  handleResetFilters: () => void;\n  handlePageChange: (page: number) => void;\n}\n\nexport const useFilters = (): {\n  filters: FilterState;\n  handlers: FilterHandlers;\n  filteredResources: Resource[];\n} => {\n  const [filters, setFilters] = useState<FilterState>({\n    selectedSubjects: [],\n    selectedDifficulty: [],\n    selectedGrades: [],\n    searchQuery: '',\n    page: 1,\n    rowsPerPage: 5, // Configurable\n  });\n  const [filteredResources, setFilteredResources] = useState<Resource[]>(mockResources);\n\n  const handleSubjectsChange = (subjects: string[]) =>\n    setFilters((prev) => ({ ...prev, selectedSubjects: subjects, page: 1 }));\n  const handleDifficultyChange = (difficulty: string[]) =>\n    setFilters((prev) => ({ ...prev, selectedDifficulty: difficulty, page: 1 }));\n  const handleGradesChange = (grades: string[]) =>\n    setFilters((prev) => ({ ...prev, selectedGrades: grades, page: 1 }));\n  const handleSearchChange = (query: string) =>\n    setFilters((prev) => ({ ...prev, searchQuery: query, page: 1 }));\n  const handleResetFilters = () =>\n    setFilters((prev) => ({\n      ...prev,\n      selectedSubjects: [],\n      selectedDifficulty: [],\n      selectedGrades: [],\n      searchQuery: '',\n      page: 1,\n    }));\n  const handlePageChange = (page: number) => setFilters((prev) => ({ ...prev, page }));\n\n  useEffect(() => {\n    let result = [...mockResources];\n\n    if (filters.selectedSubjects.length > 0) {\n      result = result.filter((resource) =>\n        resource.subjects.some((subject: Subject) => filters.selectedSubjects.includes(subject))\n      );\n    }\n\n    if (filters.selectedDifficulty.length > 0) {\n      result = result.filter(\n        (resource) =>\n          resource.difficultyLevel && filters.selectedDifficulty.includes(resource.difficultyLevel)\n      );\n    }\n\n    if (filters.selectedGrades.length > 0) {\n      result = result.filter((resource) =>\n        resource.grades.some((grade: Grade) => filters.selectedGrades.includes(grade))\n      );\n    }\n\n    if (filters.searchQuery) {\n      result = result.filter((resource) =>\n        resource.title.toLowerCase().includes(filters.searchQuery.toLowerCase())\n      );\n    }\n\n    setFilteredResources(result);\n  }, [filters.selectedSubjects, filters.selectedDifficulty, filters.selectedGrades, filters.searchQuery]);\n\n  return { filters, handlers: { handleSubjectsChange, handleDifficultyChange, handleGradesChange, handleSearchChange, handleResetFilters, handlePageChange }, filteredResources };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}